<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reaction Time Spirits</title>
  <link rel="icon" type="image/x-icon" href="/images/icons8-time-48.png">
  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    /* Additional CSS styles */
    body, html {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #hero {
      height: 100vh;
      background-color: #3498db; /* Default background color */
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative; /* Add position relative for absolute positioning */
    }

    #hero h1 {
      font-size: 3rem;
      margin-bottom: 20px;
    }

    #statusText {
      font-size: 1.5rem;
      margin-bottom: 20px;
      display: none; /* Hide the status text initially */
    }

    /* Transparent div covering the whole hero */
    #startBtnCover {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      cursor: pointer; /* Change cursor to pointer for better UX */
    }

    .bottom-section {
      position: absolute;
      bottom: 20px;
    }
    .bg-light{
      padding: 50px 0;

    }
    .smaller-text {
      font-size: 18px; /* Adjust the font size as needed */
    }
    .bottom-section h3 {
      font-size: 1.5rem;
    }
    .text-left mb-4{
      font-size: 2.5rem;
      font-weight:900;
    }
    .text-white-2 {
      font-size: 24px;
      font-weight: bold; /* Change text color to white */
    }
    .medium-text {
      font-size: 1.25rem;
      font-weight: 700;
      color: #3498db;
    }

    .card {
      border: 1px solid #e2e8f0; /* Add a border around the cards */
      border-radius: 8px; /* Add border radius for rounded corners */
      overflow: hidden; /* Hide overflow to prevent content from sticking out */
    }
    .smaller-text-2 {
      text-align: justify;

    }

    .card img {
      width: 100%; /* Make the image fill the entire width of the card */
      height: auto; /* Maintain aspect ratio */
    }
  </style>
</head>
<body class="bg-gray-100">
  <Section>
    <div class="container-fluid p-0">
      <div id="hero" class="text-white">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-8 text-center">
              <h1 id="display-4" class="display-4">Измери своето време за реакция</h1>
              <!-- Show display-4 instead of statusText -->
              <div class="mb-4">
                <h2 id="display-42"></h2>
                <p id="intoxicationWarning" class="text-white-2">Внимание: Вие може да сте в нетрезво състояние!</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Transparent div covering the whole hero -->
        <div id="startBtnCover"></div>
        <!-- Add the following lines -->
        <div class="bottom-section row align-items-center">
          <div class="col-auto-2">
            <!-- Arrow down icon -->
            <i class="fas fa-arrow-down"></i>
          </div>
          <div class="col">
            <b>Скролни Надолу</b>
          </div>
        </div>
        
        
      </div>
    </div>
  </Section>
  
  <section id="section2" class="bg-light">
    <div class="container px-4">
      <div class="row justify-content-center">
        <div class="col-md-6 mb-4">
          <div class="card">
            <div class="p-4">
              <h2 class="font-weight-bold mb-4">Полезна Информация</h2>
              <p class="smaller-text-2"> Според проучване на Станфордския университет добре отпочиналият човек реагира в рамките на <b>156-250 милисекунди.</b> Но при наличие на алкохол в организма, това време може да се увеличи до <b>300-320 милисекунди</b>, подобно на това на човек над 65-годишна възраст. Страшно, а? <br><br> Алкохолът нарушава мозъчната функция и мускулната координация, което прави шофирането опасно в рамките на няколко минути след употребата му. Дори малко количество може значително да забави времето ти за реакция. Знаеш ли, че дори при изпиване на една бира, вероятността да катастрофираш е <b>4 пъти по-голяма?</b> <br><br>Представи си, че наближаваш кръстовище с пешеходна пътека. Когато си трезвен, може да успееш да спреш в рамките на 15 метра, ако внезапно се появи пешеходец. Но при наличие на алкохол в кръвта ти, ще са ти необходими допълнителни <b>3,75 метра,</b> за да спреш. Това са почти <b>4 метра</b> повече потенциална опасност само поради това, че алкохолът нарушава способностите ти.<br><br>Но ето и добрата новина: имаш възможност да направиш по-безопасен избор, като не шофираш в нетрезво състояние. Не искаш да нараниш себе си или другите, нали? Не забравяй, че всяко решение е от значение.
              </p>
              <p class="medium-text"> Сподели този тест с приятелите си и обещай никога да не шофираш в нетрезво състояние. Нека заедно да запазим пътищата си безопасни!</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-4">
          <div class="row">
            <div class="col-md-12 mb-4">
              <div class="card">
                <img src="images/canvas.png" alt="Средностатистическо време за реакция">
                <div class="p-4">
                  <p class="font-weight-bold mb-2">Средностатистическо време за реакция</p>
                  <p class="small">humanbenchmark.com</p>
                </div>
              </div>
            </div>
            <div class="col-md-12 mb-4">
              <div class="card">
                <img src="images/Beers.png" alt="Ефекти от алкохола при шофирането">
                <div class="p-4">
                  <p class="font-weight-bold mb-2">Ефекти от алкохола при шофирането</p>
                  <p class="small"></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container px-4">
      <div class="row justify-content-center"> <img src="images/logo.png" alt="Logo" style="width: 100px; height: auto;"> <!-- Add Logo here -->
    </section>
  
    <script>
      let startTime, endTime;
      let testRunning = false;
      let waitingForSignal = false;
      let intoxicationWarningShown = false; // Added variable to track if intoxication warning has been shown
      let display4 = false
    
      // Hide intoxication warning by default
      document.getElementById("intoxicationWarning").classList.add("d-none");

    
      document.getElementById("startBtnCover").addEventListener("click", function() {
        if (testRunning) {
          endTest();
        } else {
          if (waitingForSignal) {
            resetGame(); // Call resetGame directly if waiting for the signal
          } else {
            startTest();
          }
        }
      });
    
      function startTest() {
        console.log("startTest function called");
        // Hide intoxication warning when starting the game
        document.getElementById("intoxicationWarning").classList.add("d-none");
        intoxicationWarningShown = false;
    
        if (!testRunning && !waitingForSignal) {
          document.getElementById("hero").style.backgroundColor = "#e74c3c";
          document.getElementById("display-4").innerText = "Приготви се...."; // Change display-4 text
          testRunning = true;
          waitingForSignal = true;
          setTimeout(showSignal, Math.random() * 5000 + 1000); // Random delay between 1 to 6 seconds
        } else if (waitingForSignal) {
          document.getElementById("display-4").innerText = "Много бързаш. Натисни бутона отново."; // Change display-4 text
          setTimeout(resetGame, 2000); // Reset the game after 2 seconds
        }
      }
    
      function showSignal() {
        console.log("showSignal function called");
        document.getElementById("hero").style.backgroundColor = "#008000";
        document.getElementById("display-4").innerText = "Натисни!"; // Change display-4 text
        startTime = new Date().getTime();
        waitingForSignal = false;
      }
    
function endTest() {
  console.log("endTest function called");
  if (testRunning && !waitingForSignal) {
    endTime = new Date().getTime();
    let reactionTime = endTime - startTime - 100; // Time difference in milliseconds
    document.getElementById("display-4").innerText = "Твоето време за реакция: " + reactionTime + " ms" + " Играй отново като кликнеш."; 
    
    // Show display-42 only at the end screen
    document.getElementById("display-42").style.display = "block";
    
    if (reactionTime > 550) {
      document.getElementById("intoxicationWarning").classList.remove("d-none");
      intoxicationWarningShown = true; // Set the flag to true if warning is shown
    } else {
      document.getElementById("intoxicationWarning").classList.add("d-none");
      intoxicationWarningShown = false; // Set the flag to false if warning is hidden
    }


    
    testRunning = false;
    // Only set the display text to "Играй отново" if you want to restart the game
  }
}
function resetGame() {
  console.log("resetGame function called");
  testRunning = false;
  waitingForSignal = false;
  document.getElementById("hero").style.backgroundColor = "#FFC0CB";
  document.getElementById("display-4").innerText = "Играта се рестартира"; // Change display-4 text


  // Hide the intoxication warning when resetting the game
  document.getElementById("intoxicationWarning").classList.add("d-none");
  intoxicationWarningShown = false; // Reset the intoxication warning state
}


    </script>
    
    
  </body>
  </html>
